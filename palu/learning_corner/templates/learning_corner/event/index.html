{% extends "base.html" %}
{% block title %}Learning Corner - Event{% endblock %}

{% block content %}
<h1 class="text-3xl font-normal mb-6">Daftar Event</h1>

<div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
  {% for event in events %}
    <div class="rounded-lg border border-gray-200 bg-white shadow-lg overflow-hidden flex flex-col">

      <!-- Gambar -->
      {% if event.image %}
        <img src="{{ event.image.url }}"
             alt="{{ event.title }}"
             class="h-48 w-full object-cover">
      {% endif %}

      <!-- Konten -->
      <div class="p-4 flex flex-col h-full">
        <a href="{% url 'detailEvent' event.id %}"
           class="text-xl text-(--color-primary) hover:underline">
          {{ event.title }}
        </a>

        <p class="mt-1 text-sm text-gray-600">
          {{ event.date|date:"d M Y H:i" }}
        </p>

        <p class="mt-2 text-sm text-gray-600">
          {{ event.description|truncatewords:20 }}
        </p>

        <div class="mt-auto pt-4 text-sm font-medium text-gray-700">
          {% if event.date < now %}
            Expire
          {% else %}
            {{ event.date|timeuntil }}
          {% endif %}
        </div>
      </div>

    </div>
  {% empty %}
    <p class="text-gray-500">Belum ada event.</p>
  {% endfor %}
</div>

{% endblock %}
